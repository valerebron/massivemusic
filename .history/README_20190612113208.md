# erudi [![pipeline status](https://git.osrp.xyz/root/erudi/badges/master/pipeline.svg)](https://git.osrp.xyz/root/erudi/commits/master)

Private Social network

## dependencies
- node 9.1
- yarn

## Use
  - `yarn api` (launch api)
  - `yarn dev` (dev environement)
  - `git push` (deploy on prod)

## Config
  - [config.json](config.json) (port and host for local use)
  - [configDist.json](configDist.json) (port and host for prod use)
  - [.gitlab-ci.yml](.gitlab-ci.yml) (deploy config)
  - erudi-apache.conf add `FallbackResource index.html`
    (see: https://router.vuejs.org/guide/essentials/history-mode.html#html5-history-mode)

## App Design
  - erudi Socket (port 34710):
    this websocket is used to push notifications to all users when a new post is added
  - erudi Bdd (port 34720):
    the mongo bdd, serve in a docker container. Schemas can be found in [api folder](api/) and example data in [db folder](db/)
  - mongo express (port 34721):
    Interface to admin mongodb
  - erudi api (port 34730):
    CRUD api set in config.json,
    post http://localhost:34730/tags
  - erudi web server (port 34740):
    node express server for production, it rewrite all request to dist/index.html
